import{C as H,d as T,e as D,f as N}from"./element-plus.f96e9a80.js";import{d as w,b as $}from"./index.91627cac.js";import{d as V,r as x,o as s,c as _,a as S,V as O,a7 as k,Q as R,U as C,u as n,T as M,W as v,b as G,w as g,O as y,M as A,j as F,S as B,s as U,_ as K}from"./@vue.4b2a3026.js";import{P as q}from"./index.ff756fc3.js";var h=(u=>(u.SHOP_PAGES="shop",u.APPTOOL="application_tool",u.OTHER_LINK="other_link",u))(h||{}),t=(u=>(u.SHOP_PAGES="shop",u.ARTICLE_LIST="article",u.CUSTOM_LINK="custom",u))(t||{});const j={class:"shop-pages h-[458px]"},z={class:"link-list flex flex-wrap"},Q=["onClick"],W=V({__name:"shop-pages",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(u,{emit:E}){const o=E,m=x([{path:"/pages/index/index",name:"\u5546\u57CE\u9996\u9875",type:t.SHOP_PAGES,canTab:!0},{path:"/pages/news/news",name:"\u6587\u7AE0\u8D44\u8BAF",type:t.SHOP_PAGES,canTab:!0},{path:"/pages/user/user",name:"\u4E2A\u4EBA\u4E2D\u5FC3",type:t.SHOP_PAGES,canTab:!0},{path:"/pages/collection/collection",name:"\u6211\u7684\u6536\u85CF",type:t.SHOP_PAGES},{path:"/pages/customer_service/customer_service",name:"\u8054\u7CFB\u5BA2\u670D",type:t.SHOP_PAGES},{path:"/pages/user_set/user_set",name:"\u4E2A\u4EBA\u8BBE\u7F6E",type:t.SHOP_PAGES},{path:"/pages/as_us/as_us",name:"\u5173\u4E8E\u6211\u4EEC",type:t.SHOP_PAGES},{path:"/pages/user_data/user_data",name:"\u4E2A\u4EBA\u8D44\u6599",type:t.SHOP_PAGES},{path:"/pages/agreement/agreement",name:"\u9690\u79C1\u653F\u7B56",query:{type:"privacy"},type:t.SHOP_PAGES},{path:"/pages/agreement/agreement",name:"\u670D\u52A1\u534F\u8BAE",query:{type:"service"},type:t.SHOP_PAGES},{path:"/pages/search/search",name:"\u641C\u7D22",type:t.SHOP_PAGES},{path:"/packages/pages/user_wallet/user_wallet",name:"\u6211\u7684\u94B1\u5305",type:t.SHOP_PAGES}]),d=l=>{o("update:modelValue",l)};return(l,r)=>(s(),_("div",j,[S("div",z,[(s(!0),_(O,null,k(n(m),(i,e)=>(s(),_("div",{class:R(["link-item border border-br px-5 py-[5px] rounded-[3px] cursor-pointer mr-[10px] mb-[10px]",{"border-primary text-primary":u.modelValue.path==i.path&&u.modelValue.name==i.name}]),key:e,onClick:a=>d(i)},C(i.name),11,Q))),128))])]))}}),J={class:"custom-link h-[428px] mt-[30px]"},X={class:"flex flex-wrap items-center"},Y={class:"ml-4 flex-1 min-w-[100px]"},Z=S("div",{class:"form-tips"}," \u8BF7\u586B\u5199\u5B8C\u6574\u7684\u5E26\u6709\u201Chttps://\u201D\u6216\u201Chttp://\u201D\u7684\u94FE\u63A5\u5730\u5740\uFF0C\u94FE\u63A5\u7684\u57DF\u540D\u5FC5\u987B\u5728\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\u8BBE\u7F6E\u4E1A\u52A1\u57DF\u540D ",-1),ee=V({__name:"custom-link",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(u,{emit:E}){const o=E,m=d=>{o("update:modelValue",{path:"/pages/webview/webview",query:{url:d},type:t.CUSTOM_LINK})};return(d,l)=>{var i;const r=H;return s(),_("div",J,[S("div",X,[M(" \u81EA\u5B9A\u4E49\u94FE\u63A5 "),S("div",Y,[v(r,{"model-value":(i=u.modelValue.query)==null?void 0:i.url,placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5\u5730\u5740",onInput:m},null,8,["model-value"])])]),Z])}}}),te={class:"link flex"},ue={class:"flex-1 pl-4"},ae=V({__name:"index",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(u,{emit:E}){const o=u,m=E,d=x([{name:"\u5546\u57CE\u9875\u9762",type:h.SHOP_PAGES,children:[{name:"\u57FA\u7840\u9875\u9762",type:t.SHOP_PAGES,link:{}}]},{name:"\u5176\u4ED6",type:h.OTHER_LINK,children:[{name:"\u81EA\u5B9A\u4E49\u94FE\u63A5",type:t.CUSTOM_LINK,link:{}}]}]),l=G({get(){let e={};return d.value.forEach(a=>{const p=a.children.find(P=>P.type==r.value);p&&(e=p)}),e.link},set(e){d.value.forEach(a=>{a.children.forEach(p=>{p.type==r.value&&(p.link=e)})})}}),r=x(t.SHOP_PAGES),i=e=>{r.value=e};return g(l,e=>{!e.type||m("update:modelValue",e)},{deep:!0}),g(()=>o.modelValue,e=>{r.value=e.type,l.value=e},{immediate:!0}),(e,a)=>{const p=T,P=D,f=N;return s(),_("div",te,[v(f,{"default-active":n(r),class:"w-[160px] min-h-[350px] link-menu","default-openeds":[n(h).SHOP_PAGES,n(h).APPTOOL,n(h).OTHER_LINK],onSelect:i},{default:y(()=>[(s(!0),_(O,null,k(n(d),(c,I)=>(s(),A(P,{index:c.type,key:I},{title:y(()=>[S("span",null,C(c.name),1)]),default:y(()=>[(s(!0),_(O,null,k(c.children,(b,L)=>(s(),A(p,{index:b.type,key:L,style:{"min-width":"160px"}},{default:y(()=>[S("span",null,C(b.name),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"]))),128))]),_:1},8,["default-active","default-openeds"]),S("div",ue,[n(t).SHOP_PAGES==n(r)?(s(),A(W,{key:0,modelValue:n(l),"onUpdate:modelValue":a[0]||(a[0]=c=>F(l)?l.value=c:null)},null,8,["modelValue"])):B("",!0),n(t).CUSTOM_LINK==n(r)?(s(),A(ee,{key:1,modelValue:n(l),"onUpdate:modelValue":a[1]||(a[1]=c=>F(l)?l.value=c:null)},null,8,["modelValue"])):B("",!0)])])}}});const le=w(ae,[["__scopeId","data-v-8b24372e"]]),ne=V({__name:"picker",props:{modelValue:{type:Object},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{emit:E}){const o=u,m=E,d=U(),l=x({path:"",type:t.SHOP_PAGES}),r=()=>{m("update:modelValue",l.value)},i=G(()=>{var e,a,p;switch(console.log(o.modelValue),(e=o.modelValue)==null?void 0:e.type){case t.SHOP_PAGES:return o.modelValue.name;case t.ARTICLE_LIST:return o.modelValue.name;case t.CUSTOM_LINK:return(a=o.modelValue.query)==null?void 0:a.url;default:return(p=o.modelValue)==null?void 0:p.name}});return g(()=>o.modelValue,e=>{e!=null&&e.type&&(l.value=e)},{immediate:!0}),(e,a)=>{const p=$,P=H;return s(),_("div",{class:"link-picker flex-1",onClick:a[2]||(a[2]=f=>{var c;return!u.disabled&&((c=n(d))==null?void 0:c.open())})},[v(P,{"model-value":n(i),placeholder:"\u8BF7\u9009\u62E9\u94FE\u63A5",readonly:"",disabled:u.disabled},{suffix:y(()=>{var f;return[(f=u.modelValue)!=null&&f.path?(s(),A(p,{key:1,name:"el-icon-Close",onClick:a[0]||(a[0]=K(c=>!u.disabled&&m("update:modelValue",{}),["stop"]))})):(s(),A(p,{key:0,name:"el-icon-ArrowRight"}))]}),_:1},8,["model-value","disabled"]),v(q,{ref_key:"popupRef",ref:d,width:"900px",title:"\u94FE\u63A5\u9009\u62E9",onConfirm:r},{default:y(()=>[v(le,{modelValue:n(l),"onUpdate:modelValue":a[1]||(a[1]=f=>F(l)?l.value=f:null)},null,8,["modelValue"])]),_:1},512)])}}});const de=w(ne,[["__scopeId","data-v-9c0e1b9f"]]);export{de as _};
