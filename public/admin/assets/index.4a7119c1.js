import{C as Q,D as W,L as z,M as G,w as H,F as J,V as K,O as X,b as Y,P as Z,Q as ee}from"./element-plus.f96e9a80.js";import{_ as te}from"./index.vue_vue_type_script_setup_true_lang.c8b65c20.js";import{_ as oe}from"./index.vue_vue_type_script_setup_true_lang.8ddd755c.js";import{f as ae,b as le}from"./index.91627cac.js";import{u as ne}from"./usePaging.5995a687.js";import{u as ie}from"./useDictOptions.952f4e22.js";import{_ as se,a as me,b as re}from"./edit.vue_vue_type_script_setup_true_name_animalsEdit_lang.59ab7abd.js";import"./lodash.d6bb5e00.js";import{d as A,s as ue,r as y,a0 as pe,am as de,o as i,c as B,W as e,O as a,u as t,V as ce,a7 as _e,M as r,T as p,P as _,a as x,j as fe,S as ve,n as D}from"./@vue.4b2a3026.js";import"./@vueuse.150327d1.js";import"./@element-plus.c80de70c.js";import"./lodash-es.2b4cc642.js";import"./dayjs.f46d1cd6.js";import"./balanced-match.aa21c01a.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.b082b0c1.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./axios.820613cd.js";import"./vue-router.4d1437e2.js";import"./pinia.23f1b180.js";import"./css-color-function.cee2f610.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./ms.564e106c.js";import"./nprogress.acc17954.js";import"./vue-clipboard3.5b3f624f.js";import"./clipboard.53ca536a.js";import"./echarts.004f4e72.js";import"./zrender.b56a9aa5.js";import"./tslib.60310f1a.js";import"./highlight.js.db90315f.js";import"./@highlightjs.c9907823.js";import"./index.vue_vue_type_style_index_0_lang.343f3b36.js";import"./@wangeditor.679fe687.js";import"./picker.a6dda4da.js";import"./index.ff756fc3.js";import"./index.8fc0f66b.js";import"./index.8815d874.js";import"./index.232742b6.js";import"./index.vue_vue_type_script_setup_true_lang.1a989044.js";import"./vue3-video-play.0d206adf.js";import"./vuedraggable.e46ab84b.js";import"./vue.2bbc5ab4.js";import"./sortablejs.b72ab876.js";const Fe={class:"mt-4"},be={class:"flex mt-4 justify-end"},we=A({name:"animalsLists"}),ct=A({...we,setup(Ce){const f=ue(),v=y(!1),s=pe({title:"",is_recommend:"",create_time:""}),C=y([]),$=n=>{C.value=n.map(({id:l})=>l)},{dictData:E}=ie("is_recommend"),{pager:d,getLists:F,resetParams:P,resetPage:L}=ne({fetchFun:re,params:s}),S=async()=>{var n;v.value=!0,await D(),(n=f.value)==null||n.open("add")},T=async n=>{var l,c;v.value=!0,await D(),(l=f.value)==null||l.open("edit"),(c=f.value)==null||c.setFormData(n)},h=async n=>{await ae.confirm("\u786E\u5B9A\u8981\u5220\u9664\uFF1F"),await me({id:n}),F()};return F(),(n,l)=>{const c=Q,b=W,k=z,N=G,u=H,R=J,V=K,U=le,m=X,I=Y,O=oe,j=Z,M=te,w=de("perms"),q=ee;return i(),B("div",null,[e(V,{class:"!border-none mb-4",shadow:"never"},{default:a(()=>[e(R,{class:"mb-[-16px]",model:t(s),inline:""},{default:a(()=>[e(b,{label:"\u6807\u9898",prop:"title"},{default:a(()=>[e(c,{class:"w-[280px]",modelValue:t(s).title,"onUpdate:modelValue":l[0]||(l[0]=o=>t(s).title=o),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u6807\u9898"},null,8,["modelValue"])]),_:1}),e(b,{label:"\u662F\u5426\u63A8\u8350",prop:"is_recommend"},{default:a(()=>[e(N,{class:"w-[280px]",modelValue:t(s).is_recommend,"onUpdate:modelValue":l[1]||(l[1]=o=>t(s).is_recommend=o),clearable:"",placeholder:"\u8BF7\u9009\u62E9\u662F\u5426\u63A8\u8350"},{default:a(()=>[e(k,{label:"\u5168\u90E8",value:""}),(i(!0),B(ce,null,_e(t(E).is_recommend,(o,g)=>(i(),r(k,{key:g,label:o.name,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(b,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"create_time"},{default:a(()=>[e(c,{class:"w-[280px]",modelValue:t(s).create_time,"onUpdate:modelValue":l[2]||(l[2]=o=>t(s).create_time=o),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u521B\u5EFA\u65F6\u95F4"},null,8,["modelValue"])]),_:1}),e(b,null,{default:a(()=>[e(u,{type:"primary",onClick:t(L)},{default:a(()=>[p("\u67E5\u8BE2")]),_:1},8,["onClick"]),e(u,{onClick:t(P)},{default:a(()=>[p("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),_((i(),r(V,{class:"!border-none",shadow:"never"},{default:a(()=>[_((i(),r(u,{type:"primary",onClick:S},{icon:a(()=>[e(U,{name:"el-icon-Plus"})]),default:a(()=>[p(" \u65B0\u589E ")]),_:1})),[[w,["animals/add"]]]),_((i(),r(u,{disabled:!t(C).length,onClick:l[3]||(l[3]=o=>h(t(C)))},{default:a(()=>[p(" \u5220\u9664 ")]),_:1},8,["disabled"])),[[w,["animals/delete"]]]),x("div",Fe,[e(j,{data:t(d).lists,onSelectionChange:$},{default:a(()=>[e(m,{type:"selection",width:"55"}),e(m,{label:"id",prop:"id","show-overflow-tooltip":""}),e(m,{label:"\u6807\u9898",prop:"title","show-overflow-tooltip":""}),e(m,{label:"\u6982\u8FF0",prop:"desc","show-overflow-tooltip":""}),e(m,{label:"\u56FE\u7247",prop:"image"},{default:a(({row:o})=>[e(I,{style:{width:"50px",height:"50px"},src:o.image},null,8,["src"])]),_:1}),e(m,{label:"\u662F\u5426\u63A8\u8350",prop:"is_recommend"},{default:a(({row:o})=>[e(O,{options:t(E).is_recommend,value:o.is_recommend},null,8,["options","value"])]),_:1}),e(m,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"create_time","show-overflow-tooltip":""}),e(m,{label:"\u64CD\u4F5C",width:"120",fixed:"right"},{default:a(({row:o})=>[_((i(),r(u,{type:"primary",link:"",onClick:g=>T(o)},{default:a(()=>[p(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])),[[w,["animals/edit"]]]),_((i(),r(u,{type:"danger",link:"",onClick:g=>h(o.id)},{default:a(()=>[p(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[w,["animals/delete"]]])]),_:1})]),_:1},8,["data"])]),x("div",be,[e(M,{modelValue:t(d),"onUpdate:modelValue":l[4]||(l[4]=o=>fe(d)?d.value=o:null),onChange:t(F)},null,8,["modelValue","onChange"])])]),_:1})),[[q,t(d).loading]]),t(v)?(i(),r(se,{key:0,ref_key:"editRef",ref:f,"dict-data":t(E),onSuccess:t(F),onClose:l[5]||(l[5]=o=>v.value=!1)},null,8,["dict-data","onSuccess"])):ve("",!0)])}}});export{ct as default};
